<!DOCTYPE html>
<html lang="en" x-data="{ theme: 'light', menuOpen: false }" x-init="
    theme = localStorage.getItem('theme') 
        || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    $watch('theme', val => { 
        localStorage.setItem('theme', val); 
        $el.setAttribute('data-theme', val); 
    });
    $el.setAttribute('data-theme', theme);
" class="bg-bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A minimalist blog with Zola and Tailwind CSS">
  <title>RustyBlog | </title>
  <link rel="stylesheet" href="https://yoloinfinity55.github.io/rustblog/css/output.css">
  <link rel="stylesheet" href="https://yoloinfinity55.github.io/rustblog/css/theme.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="min-h-screen flex flex-col font-sans text-text">
  <!-- Header -->
  <header class="border-b border-gray-200 sticky top-0 bg-gray-100 dark:bg-gray-900 z-50">
    <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
      <a href="https://yoloinfinity55.github.io/rustblog" class="text-2xl font-semibold">RustyBlog</a>
      
      <!-- Desktop Menu -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="https://yoloinfinity55.github.io/rustblog" class="hover:text-accent transition-colors">Home</a>
        <a href="https://yoloinfinity55.github.io/rustblog/blog" class="hover:text-accent transition-colors">Blog</a>
        <a href="https://yoloinfinity55.github.io/rustblog/tags" class="hover:text-accent transition-colors">Tags</a>
        <button title="Toggle theme" aria-label="Toggle theme" 
          @click="theme = (theme === 'light' ? 'dark' : 'light')" 
          class="text-text hover:text-accent transition-colors">
          <span x-show="theme === 'light'">üåô</span>
          <span x-show="theme === 'dark'">‚òÄÔ∏è</span>
        </button>
      </div>

      <!-- Mobile Hamburger -->
      <div class="md:hidden">
        <button @click="menuOpen = !menuOpen" class="text-text hover:text-accent" title="Toggle menu" aria-label="Toggle menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path :d="menuOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16m-7 6h7'" 
              stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
          </svg>
        </button>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div x-show="menuOpen" class="md:hidden border-t border-gray-200 dark:border-gray-700 px-6 py-4 space-y-2">
      <a href="https://yoloinfinity55.github.io/rustblog" 
         @click="menuOpen = false" 
         class="block py-2 hover:text-accent transition-colors">Home</a>
      <a href="https://yoloinfinity55.github.io/rustblog/blog" 
         @click="menuOpen = false" 
         class="block py-2 hover:text-accent transition-colors">Blog</a>
      <a href="https://yoloinfinity55.github.io/rustblog/tags" 
         @click="menuOpen = false" 
         class="block py-2 hover:text-accent transition-colors">Tags</a>
      <button title="Toggle theme" aria-label="Toggle theme" 
        @click="theme = (theme === 'light' ? 'dark' : 'light'); menuOpen = false" 
        class="block py-2 hover:text-accent transition-colors">
        <span x-text="theme === 'light' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode'"></span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-6 py-12 flex-grow">
    <div class="bg-gray-100 dark:bg-gray-800 rounded-xl shadow-md p-8">
      
<article class="blog-post">
    <header>
        <h1>Syncing Local and CI Environments</h1>
        <div class="post-meta">
            <time datetime="2025-10-01">October 01, 2025</time>
            
            <div class="tags">
                
                <a href="https://yoloinfinity55.github.io/rustblog/tags/devops/">#devops</a>
                
                <a href="https://yoloinfinity55.github.io/rustblog/tags/ci-cd/">#ci-cd</a>
                
                <a href="https://yoloinfinity55.github.io/rustblog/tags/github-actions/">#github-actions</a>
                
            </div>
            
        </div>
    </header>
    
    <div class="post-content">
        <h1 id="keeping-local-development-and-github-actions-in-sync">Keeping Local Development and GitHub Actions in Sync</h1>
<p>Ensuring that your local development environment perfectly mirrors the environment used in your Continuous Integration (CI) pipeline is crucial for avoiding the classic "it works on my machine" problem. When these environments drift apart, you can face unexpected build failures, subtle bugs, and a lot of wasted time.</p>
<p>This post summarizes the process of checking and aligning the versions of key tools‚ÄîZola and Node.js‚Äîbetween a local machine and a GitHub Actions workflow.</p>
<h3 id="1-how-to-check-your-versions">1. How to Check Your Versions</h3>
<p>Before you can sync your environments, you need to know what versions you're running in each.</p>
<h4 id="local-environment">Local Environment</h4>
<p>To check your local versions, you can use the following commands in your terminal:</p>
<ul>
<li><strong>Check Zola version:</strong><pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">zola --version
</span></code></pre>
</li>
<li><strong>Check Node.js version:</strong><pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">node --version
</span></code></pre>
</li>
</ul>
<h4 id="github-actions-environment">GitHub Actions Environment</h4>
<p>To check the versions used in your CI pipeline, you need to inspect your workflow file, typically located at <code>.github/workflows/deploy.yml</code>.</p>
<ul>
<li>
<p><strong>Zola Version:</strong> Look for the step that downloads Zola. The version number is usually right in the URL.</p>
<pre data-lang="yaml" style="background-color:#2b303b;color:#c0c5ce;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span>- </span><span style="color:#bf616a;">run</span><span>: </span><span style="color:#b48ead;">|
</span><span style="color:#a3be8c;">    curl -L https://github.com/getzola/zola/releases/download/v0.19.1/zola-v0.19.1-x86_64-unknown-linux-gnu.tar.gz | tar -xz
</span><span style="color:#a3be8c;">    sudo mv zola /usr/local/bin/
</span></code></pre>
</li>
<li>
<p><strong>Node.js Version:</strong> Look for the <code>actions/setup-node</code> step, which specifies the version to use.</p>
<pre data-lang="yaml" style="background-color:#2b303b;color:#c0c5ce;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span>- </span><span style="color:#bf616a;">uses</span><span>: </span><span style="color:#a3be8c;">actions/setup-node@v3
</span><span>  </span><span style="color:#bf616a;">with</span><span>:
</span><span>    </span><span style="color:#bf616a;">node-version</span><span>: &#39;</span><span style="color:#a3be8c;">18</span><span>&#39;
</span></code></pre>
</li>
</ul>
<h3 id="2-the-problem-environment-drift">2. The Problem: Environment Drift</h3>
<p>In our case, the checks revealed a version mismatch:</p>
<table><thead><tr><th>Tool</th><th>Local Version</th><th>GitHub Actions Version</th></tr></thead><tbody>
<tr><td><strong>Zola</strong></td><td><code>0.21.0</code></td><td><code>v0.19.1</code></td></tr>
<tr><td><strong>Node.js</strong></td><td><code>v22.19.0</code></td><td><code>18</code></td></tr>
</tbody></table>
<p>This drift can cause builds to fail if your code relies on features from a newer version or if a dependency requires a different Node.js environment.</p>
<h3 id="3-the-solution-synchronizing-the-workflow">3. The Solution: Synchronizing the Workflow</h3>
<p>The solution is to update the <code>.github/workflows/deploy.yml</code> file to use the same versions that are confirmed to work locally.</p>
<p>The following changes were made:</p>
<ol>
<li><strong>Updated the Zola download URL</strong> to point to version <code>v0.21.0</code>.</li>
<li><strong>Updated the <code>node-version</code></strong> in the <code>setup-node</code> action to <code>22</code>.</li>
</ol>
<p>By making these adjustments, we ensure that the code that runs successfully on the local machine will build and deploy reliably through the GitHub Actions pipeline.</p>

    </div>
    
    <footer class="post-footer">
        
        
    </footer>
</article>

    </div>
  </main>

  <!-- Footer -->
  <footer class="border-t border-gray-200 dark:border-gray-700 text-center py-6 text-sm text-gray-500 dark:text-gray-300 bg-gray-100 dark:bg-gray-900">
    <p>&copy; 2025 RustyBlog</p>
  </footer>
</body>
</html>
